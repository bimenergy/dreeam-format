{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "$id": "building",
  "title": "Building",
  "type": "object",
  "allOf": [
    { "$ref": "Feature#" },
    {
      "required": ["properties"],
      "properties": {
        "buildingId": {
          "type": "string",
          "description": "ID for this building, not that many building objects will have the same id"
        },
        "versionId": {
          "type": "string",
          "description": "Unique ID to identify a specific version of the building together with previous versions"
        },
        "parentVersionId": {
          "type": "string",
          "description": "This is how the building can get complete. Only an original/root building will not have this id"
        },
        "creationDate": {
          "type": "string",
          "description": "When this version was created in the system"
        },
        "userId": {
          "type": "string",
          "description": "The ID of the user creating this version"
        },
        "admin": {
          "type": "array",
          "items": {
            "type": "string"
          },
          "description": "User ids with full rights to this building"
        },
        "write": {
          "type": "array",
          "items": {
            "type": "string"
          },
          "description": "User ids that can create new change sets"
        },
        "read": {
          "type": "array",
          "items": {
            "type": "string"
          },
          "description": "User ids with read rights to this building"
        },
        "public": {
          "type": "boolean",
          "default": "false",
          "description": "If this is true, everyone can read the building"
        },
        "geometry": {
          "$id": "geometry",
          "type": "object",
          "title": "Geometry",
          "description": "This is a simple geometry as described in GeoJson standard"
        },
        "properties": {
          "$id": "properties",
          "title": "Building Properties",
          "type": "object",
          "description": "Description of the properties (CityGML: attributes) object",
          "properties": {
            "name": {
              "type": "string",
              "$id": "name",
              "title": "Name",
              "description": "Any arbitrary name string for prepresenting the building as whole"
            },
            "description": {
              "type": "string",
              "$id": "description",
              "title": "Description",
              "description": "Any arbitrary description string for building as whole"
            },
            "countryName": {
              "type": "string"
            },
            "localityName": {
              "type": "string"
            },
            "thoroughfareNumber": {
              "type": "string"
            },
            "thoroughfareName": {
              "type": "string"
            },
            "postalCode": {
              "type": "string"
            },
            "location": {
              "$id": "location",
              "title": "Location",
              "description": "Geographical location of the building. The format and usage is unclear so it's defined as string for the moment. This is probably meant to be the geographical point of the official entrance. A proper simple geographical representation of the full building can be done through the GeoJson data of the building",
              "type": "string"
            },
            "buildingType": {
              "$id": "buildingType",
              "title": "Building Type",
              "description": "Classification of building according with their usage and form",
              "type": "string",
              "enum": [
                "apartmentBlock",
                "multiFamilyHouse",
                "rowHouse",
                "singleFamilyHouse",
                "terracedHouse"
              ]
            },
            "class": {
              "type": "string",
              "$id": "class",
              "title": "Class",
              "description": "The attribute class allows an unspecified classification of the building; no suggestion from the SIG3D",
              "enum": [
                "habitation",
                "sanitation",
                "administration",
                "business, trade",
                "catering",
                "recreation",
                "sport",
                "culture",
                "church institution",
                "agriculture, forestry",
                "schools, education, research",
                "maintainence and waste management",
                "healthcare",
                "communicating",
                "security",
                "storage",
                "industry",
                "traffic",
                "function"
              ]
            },
            "function": {
              "type": "string",
              "$id": "function",
              "title": "Function",
              "description": "The function of a building is the predominantly functional significance of the building at the date of data collection ( principle of dominance ); see also in the SIG3D code lists",
              "enum": [
                "residential building",
                "tenement",
                "hostel",
                "residential- and administration building",
                "residential- and office building",
                "residential- and business building",
                "residential- and plant building",
                "agrarian- and forestry building",
                "residential- and commercial building",
                "forester's lodge",
                "holiday house",
                "summer house",
                "office building",
                "credit institution",
                "insurance",
                "business building",
                "department store",
                "shopping centre",
                "kiosk",
                "pharmacy",
                "pavilion",
                "hotel",
                "youth hostel",
                "campsite building",
                "restaurant",
                "cantine",
                "recreational site",
                "function room",
                "cinema",
                "bowling alley",
                "casino",
                "industrial building",
                "factory",
                "workshop",
                "petrol / gas station",
                "washing plant",
                "cold store",
                "depot",
                "building for research purposes",
                "quarry",
                "salt works",
                "miscellaneous industrial building",
                "mill",
                "windmill",
                "water mill",
                "bucket elevator",
                "weather station",
                "traffic assets office",
                "street maintenance",
                "waiting hall",
                "signal control box",
                "engine shed",
                "signal box or stop signal",
                "plant building for air traffic",
                "hangar",
                "plant building for shipping",
                "shipyard",
                "dock",
                "plant building for canal lock",
                "boathouse",
                "plant building for cablecar",
                "multi-storey car park",
                "parking level",
                "garage",
                "vehicle hall",
                "underground garage",
                "building for supply",
                "waterworks",
                "pump station",
                "water basin",
                "electric power station",
                "transformer station",
                "converter",
                "reactor",
                "turbine house",
                "boiler house",
                "building for telecommunications",
                "gas works",
                "heat plant",
                "pumping station",
                "building for disposal",
                "building for effluent disposal",
                "building for filter plant",
                "toilet",
                "rubbish bunker",
                "building for rubbish incineration",
                "building for rubbish disposal",
                "building for agrarian and forestry",
                "barn",
                "stall",
                "equestrian hall",
                "alpine cabin",
                "hunting lodge",
                "arboretum",
                "glass house",
                "moveable glass house",
                "public building",
                "administration building",
                "parliament",
                "guildhall",
                "post office",
                "customs office",
                "court",
                "embassy or consulate",
                "district administration",
                "district government",
                "tax office",
                "building for education and research",
                "comprehensive school",
                "vocational school",
                "college or university",
                "research establishment",
                "building for cultural purposes",
                "castle",
                "theatre or opera",
                "concert building",
                "museum",
                "broadcasting building",
                "activity building",
                "library",
                "fort",
                "religious building",
                "church",
                "synagogue",
                "chapel",
                "community center",
                "place of worship",
                "mosque",
                "temple",
                "convent",
                "building for health care",
                "hospital",
                "healing centre or care home",
                "health centre or outpatients clinic",
                "building for social purposes",
                "youth centre",
                "seniors centre",
                "homeless shelter",
                "kindergarten or nursery",
                "asylum seekers home",
                "police station",
                "fire station",
                "barracks",
                "bunker",
                "penitentiary or prison",
                "cemetery building",
                "funeral parlor",
                "crematorium",
                "train station",
                "airport building",
                "building for underground station",
                "building for tramway",
                "building for bus station",
                "shipping terminal",
                "building for recuperation purposes",
                "building for sport purposes",
                "sports hall",
                "building for sports field",
                "swimming baths",
                "indoor swimming pool",
                "sanatorium",
                "zoo building",
                "green house",
                "botanical show house",
                "bothy",
                "tourist information centre",
                "others"
              ]
            },
            "usage": {
              "type": "string",
              "$id": "usage",
              "title": "Usage",
              "description": "The usage of a building describes the use of the building and contains the respective percentage usage share of the total use. This is a fallback for all thermal zones that lacks description on user behaviour",
              "enum": [
                "residential building",
                "tenement",
                "hostel",
                "residential- and administration building",
                "residential- and office building",
                "residential- and business building",
                "residential- and plant building",
                "agrarian- and forestry building",
                "residential- and commercial building",
                "forester's lodge",
                "holiday house",
                "summer house",
                "office building",
                "credit institution",
                "insurance",
                "business building",
                "department store",
                "shopping centre",
                "kiosk",
                "pharmacy",
                "pavilion",
                "hotel",
                "youth hostel",
                "campsite building",
                "restaurant",
                "cantine",
                "recreational site",
                "function room",
                "cinema",
                "bowling alley",
                "casino",
                "industrial building",
                "factory",
                "workshop",
                "petrol / gas station",
                "washing plant",
                "cold store",
                "depot",
                "building for research purposes",
                "quarry",
                "salt works",
                "miscellaneous industrial building",
                "mill",
                "windmill",
                "water mill",
                "bucket elevator",
                "weather station",
                "traffic assets office",
                "street maintenance",
                "waiting hall",
                "signal control box",
                "engine shed",
                "signal box or stop signal",
                "plant building for air traffic",
                "hangar",
                "plant building for shipping",
                "shipyard",
                "dock",
                "plant building for canal lock",
                "boathouse",
                "plant building for cablecar",
                "multi-storey car park",
                "parking level",
                "garage",
                "vehicle hall",
                "underground garage",
                "building for supply",
                "waterworks",
                "pump station",
                "water basin",
                "electric power station",
                "transformer station",
                "converter",
                "reactor",
                "turbine house",
                "boiler house",
                "building for telecommunications",
                "gas works",
                "heat plant",
                "pumping station",
                "building for disposal",
                "building for effluent disposal",
                "building for filter plant",
                "toilet",
                "rubbish bunker",
                "building for rubbish incineration",
                "building for rubbish disposal",
                "building for agrarian and forestry",
                "barn",
                "stall",
                "equestrian hall",
                "alpine cabin",
                "hunting lodge",
                "arboretum",
                "glass house",
                "moveable glass house",
                "public building",
                "administration building",
                "parliament",
                "guildhall",
                "post office",
                "customs office",
                "court",
                "embassy or consulate",
                "district administration",
                "district government",
                "tax office",
                "building for education and research",
                "comprehensive school",
                "vocational school",
                "college or university",
                "research establishment",
                "building for cultural purposes",
                "castle",
                "theatre or opera",
                "concert building",
                "museum",
                "broadcasting building",
                "activity building",
                "library",
                "fort",
                "religious building",
                "church",
                "synagogue",
                "chapel",
                "community center",
                "place of worship",
                "mosque",
                "temple",
                "convent",
                "building for health care",
                "hospital",
                "healing centre or care home",
                "health centre or outpatients clinic",
                "building for social purposes",
                "youth centre",
                "seniors centre",
                "homeless shelter",
                "kindergarten or nursery",
                "asylum seekers home",
                "police station",
                "fire station",
                "barracks",
                "bunker",
                "penitentiary or prison",
                "cemetery building",
                "funeral parlor",
                "crematorium",
                "train station",
                "airport building",
                "building for underground station",
                "building for tramway",
                "building for bus station",
                "shipping terminal",
                "building for recuperation purposes",
                "building for sport purposes",
                "sports hall",
                "building for sports field",
                "swimming baths",
                "indoor swimming pool",
                "sanatorium",
                "zoo building",
                "green house",
                "botanical show house",
                "bothy",
                "tourist information centre",
                "others"
              ]
            },
            "measuredHeight": {
              "$id": "measuredHeight",
              "title": "Measured Height",
              "type": "number",
              "description": "Measured height is the difference in [m] between the highest point of the roof structure and the defined footprint of the building"
            },
            "roofType": {
              "$id": "roofType",
              "type": "string",
              "title": "Roof type",
              "description": "An enumeration of roof types",
              "enum": [
                "flatRoof",
                "monopitchRoof",
                "dualPentRoof",
                "gabledRoof",
                "hippedRoof",
                "half-hippedRoof",
                "mansardRoof",
                "pavilionRoof",
                "coneRoof",
                "copulaRoof",
                "sawtoothRoof",
                "archRoof",
                "pyramidalBroachRoof",
                "combinationOfRoofForms"
              ]
            },
            "storeysAboveGround": {
              "$id": "storeysAboveGround",
              "title": "Storeys Above Ground",
              "type": "number",
              "description": "Number of storeys above ground"
            },
            "storeysBelowGround": {
              "$id": "storeysBelowGround",
              "title": "Storeys Below Ground",
              "type": "number",
              "description": "Number of storeys below ground"
            },
            "storeyHeightsAboveGround": {
              "$id": "storeyHeightsAboveGround",
              "title": "Storey Heights Above Ground",
              "type": "array",
              "items": {"type": "number"},
              "description": "List order for storey heights above ground: first floor, second floor,..."
            },
            "storeyHeightsBelowGround": { 
              "$id": "storeyHeightsBelowGround",
              "title": "Storey Heights Below Ground",
              "type": "array",
              "description": "List order for storey heights below ground: first floor below ground, second floor below ground,... ",
              "items": {"type": "number"}
            },
            "yearOfConstruction": {
              "$id": "yearOfConstruction",
              "title": "Year of Construction",
              "description": "When the building was built, four digits",
              "type": "integer"
            },
            "yearOfDemolition": {
              "$id": "yearOfDemolition",
              "title": "Year of Demolition",
              "description": "For buildings that will remain in the system after demolished. Four digits",
              "type": "integer"
            },
            "constructionWeight": {
              "$id": "constructionWeight",
              "title": "Construction Weight",
              "description": "Enumeration for the construction weight",
              "type": "string",
              "enum": [
                "veryLight",
                "light",
                "medium",
                "heavy"
              ]
            },
            "energyPerformanceCertificationId": {
              "$id": "energyPerformanceCertificationId",
              "type": "string",
              "title": "Energy Performance Certification ID",
              "description": "The ID of the certification"
            },
            "energyPerformanceCertificationName": {
              "$id": "energyPerformanceCertificationName",
              "type": "string",
              "title": "Energy Performance Certification Name",
              "description": "A name of certification"
            },
            "energyPerformanceCertificationRating": {
              "$id": "energyPerformanceCertificationRating",
              "type": "string",
              "title": "Energy Performance Certification Rating",
              "description": "The rating, most likely a character"
            },
            "isLandmarked": {
              "$id": "isLandmarked",
              "title": "Is landmarked?",
              "description": "Landmark / heritage status of the building",
              "type": "boolean"
            },
            "grossVolume": {
              "$id": "grossVolume",
              "title": "Gross Volume",
              "description": "Total volume delimited by the external building dimension",
              "type": "number"
            },
            "netVolume": {
              "$id": "netVolume",
              "title": "Net Volume",
              "description": "Total volume delimited by the internal building dimension",
              "type": "number"
            },
            "energyReferenceVolume": {
              "$id": "energyReferenceVolume",
              "title": "Energy Reference Volume",
              "description": "Volume to be used in thermal calculations",
              "type": "number"
            },
            "grossFloorArea": {
              "$id": "grossFloorArea",
              "title": "Gross Floor Area",
              "description": "Outer area of the building",
              "type": "number"
            },
            "netFloorArea": {
              "$id": "netFloorArea",
              "title": "Net Floor Area",
              "description": "Interior floor area of the building",
              "type": "number"
            },
            "energyReferenceArea": {
              "$id": "energyReferenceArea",
              "title": "Energy Reference Area",
              "description": "This is the heated area to use as reference in energy calculation",
              "type": "number"
            }
          }
        },
        "rooms": {
          "type": "array",
          "items": {
            "$ref": "room"
          },
          "default": []
        },
        "thermalZones": {
          "type": "array",
          "items": {
            "$ref": "thermalZone"
          }
        },
        "usageZones": {
          "type": "array",
          "items": {
            "$ref": "usageZone"
          }
        },
        "buildingUnits": {
          "type": "array",
          "items": {
            "$ref": "buildingUnit"
          }
        },
        "refurbishmentMeasures": {
          "type": "array",
          "items": {
            "$ref": "refurbishmentMeasure"
          }
        }
      }
    }
  ],
  "definitions": {
    "room": {
      "type": "object",
      "title": "Room",
      "$id": "room",
      "description": "A Room is a thematic object for modelling the closed parts inside a building",
      "properties": {
        "id": {
          "type": "string"
        },
        "name": {
          "type": "string"
        },
        "description": {
          "type": "string"
        },
        "thermalZoneId": {
          "type": "string",
          "description": "Connects this room to a thermal zone if this room should be part of energy simulation"
        }
      }
    },
    "thermalZone": {
      "$id": "thermalZone",
      "title": "Thermal Zone",
      "type": "object",
      "description": "A thermal zone is a zone of a building which serves as unit for the building heating and cooling simulation. For the simulation, a thermal zone is considered as isothermal. It is a semantic object, which may be or not related to a geometric entity.",
      "properties": {
        "usageZoneId": {
          "type": "string",
          "description": "Connects this room to a usage zone if this room should be part of energy simulation"
        },
        "additionalThermalBridgeUValue": {
          "$id": "additionalThermalBridgeUValue",
          "title": "Additional Thermal Bridge U-Value",
          "description": "Additional U-Value in W/K,m2 for this zone",
          "type": "number"
        },
        "effectiveThermalCapacity": {
          "$id": "effectiveThermalCapacity",
          "title": "Effective Thermal Capacity",
          "description": "Capacity in J/K",
          "type": "number"
        },
        "infiltrationRate": {
          "$id": "infiltrationRate",
          "title": "Infiltration Rate",
          "description": "Still unclear how to use"
        },
        "indirectlyHeatedAreaRatio": {
          "$id": "indirectlyHeatedAreaRatio",
          "title": "Indirectly Heated Area Ratio",
          "description": "Still unclear how to use"
        },
        "grossVolume": {
          "$id": "grossVolume",
          "title": "Gross Volume",
          "description": "Total volume delimited by the external building dimension",
          "type": "number"
        },
        "netVolume": {
          "$id": "netVolume",
          "title": "Net Volume",
          "description": "Total volume delimited by the internal building dimension",
          "type": "number"
        },
        "energyReferenceVolume": {
          "$id": "energyReferenceVolume",
          "title": "Energy Reference Volume",
          "description": "Volume to be used in thermal calculations",
          "type": "number"
        },
        "grossFloorArea": {
          "$id": "grossFloorArea",
          "title": "Gross Floor Area",
          "description": "Outer area of the building",
          "type": "number"
        },
        "netFloorArea": {
          "$id": "netFloorArea",
          "title": "Net Floor Area",
          "description": "Interior floor area of the building",
          "type": "number"
        },
        "energyReferenceArea": {
          "$id": "energyReferenceArea",
          "title": "Energy Reference Area",
          "description": "This is the heated area to use as reference in energy calculation",
          "type": "number"
        },
        "isCooled": {
          "$id": "isCooled",
          "title": "Is cooled?",
          "description": "If this is false, cooling demand should not be considered for this zone",
          "type": "boolean",
          "default": "true"
        },
        "isHeated": {
          "$id": "isHeated",
          "title": "Is heated?",
          "description": "If this is false, heating demand should not be considered for this zone",
          "type": "boolean",
          "default": "true"
        },
        "volumeGeometry": {
          "$id": "volumeGeometry",
          "title": "Volume Geometry",
          "description": "describes an explicit volume geometry in the case where the room geometries should not be used to define the thermal zone geometry"
        }
      }
    },
    "usageZone": {
      "$id": "usageZone",
      "title": "Usage Zone",
      "type": "object",
      "description": "A usage zone is a zone of a building with homogeneous usage type"
    },
    "buildingUnit": {
      "$id": "buildingUnit",
      "title": "Building Unit",
      "type": "object",
      "description": "Object with lockable access from the outside or from a common area (i.e. not from another BuildingUnit), which is atomic, functionally independent, and may be separately sold, rented out, inherited, etc (source: INSPIRE Data Specification Buildings, v3.0, p.29)."
    },
    "refurbishmentMeasure": {
      "$id": "refurbishmentMeasure",
      "title": "Refurbishment Measure",
      "description": "Reference designation of the degree of refurbishment",
      "type": "object",
      "properties": {
        "dateOfRefurbishment": {
          "type": "string"
        },
        "descriptionOfRefurbishment": {
          "type": "string"
        },
        "levelOfRefurbishment": {
          "type": "string",
          "enum": [
            "AdvancedRefurbishment",
            "UsualRefurbishment"
          ]
        }
      }
    }
  }
}