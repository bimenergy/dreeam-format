{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "$id": "building",
  "title": "Building",
  "type": "object",
  "allOf": [
    { "$ref": "Feature#" },
    {
      "properties": {
        "projectId": {
          "type": "number"
        },
        "geometry": {
          "$id": "geometry",
          "type": "object",
          "title": "Geometry",
          "description": "This is a simple geometry as described in GeoJson standard"
        },
        "properties": {
          "$id": "properties",
          "title": "Building Properties",
          "type": "object",
          "description": "Description of the properties (CityGML: attributes) object",
          "properties": {
            "name": {
              "type": "string",
              "$id": "name",
              "title": "Name",
              "description": "Any arbitrary name string for prepresenting the building as whole"
            },
            "description": {
              "type": "string",
              "$id": "description",
              "title": "Description",
              "description": "Any arbitrary description string for building as whole"
            },
            "buildingType": {
              "$id": "buildingType",
              "title": "Building Type",
              "description": "Classification of building according with their usage and form",
              "type": "string"
            },
            "class": {
              "type": "string",
              "$id": "class",
              "title": "Class",
              "description": "A code list or enumeration will be used for classification",
              "enum": [
                "habitation",
                "sanitation",
                "administration",
                "business, trade",
                "catering",
                "recreation",
                "sport",
                "culture",
                "church institution",
                "agriculture, forestry",
                "schools, education, research",
                "maintainence and waste management",
                "healthcare",
                "communicating",
                "security",
                "storage",
                "industry",
                "traffic",
                "function"
              ]
            },
            "function": {
              "type": "string",
              "$id": "function",
              "title": "Function",
              "description": "A code list or enumeration will be used to describe the function of the building",
              "enum": [
                "residential building",
                "tenement",
                "hostel",
                "residential- and administration building",
                "residential- and office building",
                "residential- and business building",
                "residential- and plant building",
                "agrarian- and forestry building",
                "residential- and commercial building",
                "forester's lodge",
                "holiday house",
                "summer house",
                "office building",
                "credit institution",
                "insurance",
                "business building",
                "department store",
                "shopping centre",
                "kiosk",
                "pharmacy",
                "pavilion",
                "hotel",
                "youth hostel",
                "campsite building",
                "restaurant",
                "cantine",
                "recreational site",
                "function room",
                "cinema",
                "bowling alley",
                "casino",
                "industrial building",
                "factory",
                "workshop",
                "petrol / gas station",
                "washing plant",
                "cold store",
                "depot",
                "building for research purposes",
                "quarry",
                "salt works",
                "miscellaneous industrial building",
                "mill",
                "windmill",
                "water mill",
                "bucket elevator",
                "weather station",
                "traffic assets office",
                "street maintenance",
                "waiting hall",
                "signal control box",
                "engine shed",
                "signal box or stop signal",
                "plant building for air traffic",
                "hangar",
                "plant building for shipping",
                "shipyard",
                "dock",
                "plant building for canal lock",
                "boathouse",
                "plant building for cablecar",
                "multi-storey car park",
                "parking level",
                "garage",
                "vehicle hall",
                "underground garage",
                "building for supply",
                "waterworks",
                "pump station",
                "water basin",
                "electric power station",
                "transformer station",
                "converter",
                "reactor",
                "turbine house",
                "boiler house",
                "building for telecommunications",
                "gas works",
                "heat plant",
                "pumping station",
                "building for disposal",
                "building for effluent disposal",
                "building for filter plant",
                "toilet",
                "rubbish bunker",
                "building for rubbish incineration",
                "building for rubbish disposal",
                "building for agrarian and forestry",
                "barn",
                "stall",
                "equestrian hall",
                "alpine cabin",
                "hunting lodge",
                "arboretum",
                "glass house",
                "moveable glass house",
                "public building",
                "administration building",
                "parliament",
                "guildhall",
                "post office",
                "customs office",
                "court",
                "embassy or consulate",
                "district administration",
                "district government",
                "tax office",
                "building for education and research",
                "comprehensive school",
                "vocational school",
                "college or university",
                "research establishment",
                "building for cultural purposes",
                "castle",
                "theatre or opera",
                "concert building",
                "museum",
                "broadcasting building",
                "activity building",
                "library",
                "fort",
                "religious building",
                "church",
                "synagogue",
                "chapel",
                "community center",
                "place of worship",
                "mosque",
                "temple",
                "convent",
                "building for health care",
                "hospital",
                "healing centre or care home",
                "health centre or outpatients clinic",
                "building for social purposes",
                "youth centre",
                "seniors centre",
                "homeless shelter",
                "kindergarten or nursery",
                "asylum seekers home",
                "police station",
                "fire station",
                "barracks",
                "bunker",
                "penitentiary or prison",
                "cemetery building",
                "funeral parlor",
                "crematorium",
                "train station",
                "airport building",
                "building for underground station",
                "building for tramway",
                "building for bus station",
                "shipping terminal",
                "building for recuperation purposes",
                "building for sport purposes",
                "sports hall",
                "building for sports field",
                "swimming baths",
                "indoor swimming pool",
                "sanatorium",
                "zoo building",
                "green house",
                "botanical show house",
                "bothy",
                "tourist information centre",
                "others"
              ]
            },
            "usage": {
              "type": "string",
              "$id": "usage",
              "title": "Usage",
              "description": "A code list will be used to describe usage of the building. This is a fallback for all thermal zones that lacks description on user behaviour",
              "enum": [
                "residential building",
                "tenement",
                "hostel",
                "residential- and administration building",
                "residential- and office building",
                "residential- and business building",
                "residential- and plant building",
                "agrarian- and forestry building",
                "residential- and commercial building",
                "forester's lodge",
                "holiday house",
                "summer house",
                "office building",
                "credit institution",
                "insurance",
                "business building",
                "department store",
                "shopping centre",
                "kiosk",
                "pharmacy",
                "pavilion",
                "hotel",
                "youth hostel",
                "campsite building",
                "restaurant",
                "cantine",
                "recreational site",
                "function room",
                "cinema",
                "bowling alley",
                "casino",
                "industrial building",
                "factory",
                "workshop",
                "petrol / gas station",
                "washing plant",
                "cold store",
                "depot",
                "building for research purposes",
                "quarry",
                "salt works",
                "miscellaneous industrial building",
                "mill",
                "windmill",
                "water mill",
                "bucket elevator",
                "weather station",
                "traffic assets office",
                "street maintenance",
                "waiting hall",
                "signal control box",
                "engine shed",
                "signal box or stop signal",
                "plant building for air traffic",
                "hangar",
                "plant building for shipping",
                "shipyard",
                "dock",
                "plant building for canal lock",
                "boathouse",
                "plant building for cablecar",
                "multi-storey car park",
                "parking level",
                "garage",
                "vehicle hall",
                "underground garage",
                "building for supply",
                "waterworks",
                "pump station",
                "water basin",
                "electric power station",
                "transformer station",
                "converter",
                "reactor",
                "turbine house",
                "boiler house",
                "building for telecommunications",
                "gas works",
                "heat plant",
                "pumping station",
                "building for disposal",
                "building for effluent disposal",
                "building for filter plant",
                "toilet",
                "rubbish bunker",
                "building for rubbish incineration",
                "building for rubbish disposal",
                "building for agrarian and forestry",
                "barn",
                "stall",
                "equestrian hall",
                "alpine cabin",
                "hunting lodge",
                "arboretum",
                "glass house",
                "moveable glass house",
                "public building",
                "administration building",
                "parliament",
                "guildhall",
                "post office",
                "customs office",
                "court",
                "embassy or consulate",
                "district administration",
                "district government",
                "tax office",
                "building for education and research",
                "comprehensive school",
                "vocational school",
                "college or university",
                "research establishment",
                "building for cultural purposes",
                "castle",
                "theatre or opera",
                "concert building",
                "museum",
                "broadcasting building",
                "activity building",
                "library",
                "fort",
                "religious building",
                "church",
                "synagogue",
                "chapel",
                "community center",
                "place of worship",
                "mosque",
                "temple",
                "convent",
                "building for health care",
                "hospital",
                "healing centre or care home",
                "health centre or outpatients clinic",
                "building for social purposes",
                "youth centre",
                "seniors centre",
                "homeless shelter",
                "kindergarten or nursery",
                "asylum seekers home",
                "police station",
                "fire station",
                "barracks",
                "bunker",
                "penitentiary or prison",
                "cemetery building",
                "funeral parlor",
                "crematorium",
                "train station",
                "airport building",
                "building for underground station",
                "building for tramway",
                "building for bus station",
                "shipping terminal",
                "building for recuperation purposes",
                "building for sport purposes",
                "sports hall",
                "building for sports field",
                "swimming baths",
                "indoor swimming pool",
                "sanatorium",
                "zoo building",
                "green house",
                "botanical show house",
                "bothy",
                "tourist information centre",
                "others"
              ]
            },
            "measuredHeight": {
              "$id": "measuredHeight",
              "title": "Measured Height",
              "type": "number",
              "description": "A number representing the height in meters above ground"
            },
            "roofType": {
              "$id": "roofType",
              "type": "string",
              "title": "Roof type",
              "description": "An enumeration of roof types",
              "enum": [
                "flatRoof",
                "monopitchRoof",
                "dualPentRoof",
                "gabledRoof",
                "hippedRoof",
                "half-hippedRoof",
                "mansardRoof",
                "pavilionRoof",
                "coneRoof",
                "copulaRoof",
                "sawtoothRoof",
                "archRoof",
                "pyramidalBroachRoof",
                "combinationOfRoofForms"
              ]
            },
            "storeysAboveGround": {
              "$id": "storeysAboveGround",
              "title": "Storeys Above Ground",
              "type": "number",
              "description": "Number of storeys above ground"
            },
            "storeysBelowGround": {
              "$id": "storeysBelowGround",
              "title": "Storeys Below Ground",
              "type": "number",
              "description": "Number of storeys below ground"
            },
            "storeyHeightsAboveGround": {
              "$id": "storeyHeightsAboveGround",
              "title": "Storey Heights Above Ground",
              "type": "array",
              "items": {"type": "number"},
              "description": "List order for storey heights above ground: first floor, second floor,..."
            },
            "storeyHeightsBelowGround": { 
              "$id": "storeyHeightsBelowGround",
              "title": "Storey Heights Below Ground",
              "type": "array",
              "description": "List order for storey heights below ground: first floor below ground, second floor below ground,... ",
              "items": {"type": "number"}
            },
            "yearOfConstruction": {
              "$id": "yearOfConstruction",
              "title": "Year of Construction",
              "description": "When the building was built, four digits",
              "type": "integer"
            },
            "yearOfDemolition": {
              "$id": "yearOfDemolition",
              "title": "Year of Demolition",
              "description": "For buildings that will remain in the system after demolished. Four digits",
              "type": "integer"
            },
            "constructionWeight": {
              "$id": "constructionWeight",
              "title": "Construction Weight",
              "description": "Enumeration for the construction weight",
              "type": "string",
              "enum": [
                "veryLight",
                "light",
                "medium",
                "heavy"
              ]
            },
            "energyPerformanceCertification": {
              "$id": "energyPerformanceCertification",
              "type": "string",
              "title": "Energy Performance Certification",
              "description": "Energy Efficiency Rating"
            },
            "volume": {
              "$id": "volume",
              "title": "Volume",
              "description": "Total volume delimited by the external building dimension",
              "type": "number"
            },
            "isLandmarked": {
              "$id": "isLandmarked",
              "title": "Is landmarked?",
              "description": "Landmark / heritage status of the building",
              "type": "boolean"
            },
            "referencePoint": {
              "$id": "referencePoint",
              "title": "Reference Point",
              "description": "Geographical location of the building",
              "type": "string"
            },
            "floorArea": {
              "$id": "floorArea",
              "title": "Floor Area",
              "description": "Heated floor area",
              "type": "number"
            }
          }
        },
        "spaces": {
          "type": "array",
          "items": {
            "$ref": "space"
          },
          "default": []
        },
        "surfaces": {
          "type": "array",
          "items": {
            "$ref": "surface"
          },
          "default": []
        },
        "buildingStoreys": {
          "type": "array",
          "items": {
            "$ref": "buildingStorey"
          },
          "default": []
        },
        "thermalZones": {
          "type": "array",
          "items": {
            "$ref": "thermalZone"
          }
        },
        "usageZones": {
          "type": "array",
          "items": {
            "$ref": "usageZone"
          }
        },
        "refurbishmentMeasures": {
          "type": "array",
          "items": {
            "$ref": "refurbishmentMeasure"
          }
        }
      }
    }
  ],
  "definitions": {
    "buildingStorey": {
      "title": "Building Storey",
      "$id": "buildingStorey",
      "type": "object",
      "properties": {
        "id": {
          "type": "string"
        },
        "name": {
          "type": "string"
        },
        "level": {
          "type": "number"
        },
        "height": {
          "type": "number"
        },
        "planarGeometry": {
          "$ref": "planarGeometry"
        }
      }
    },
    "surface": {
      "title": "Surface",
      "$id": "surface",
      "description": "Surface is subset of the gbXML description of a surface",
      "type": "object",
      "required": [
        "surfaceType"
      ],
      "properties": {
        "constructionIdRef": {
          "type": "string",
          "pattern": "^[0-9a-fA-F]{24}$"
        },
        "id": {
          "type": "string"
        },
        "surfaceType": {
          "type": "string",
          "enum": [
            "InteriorWall",
            "ExteriorWall",
            "Roof",
            "InteriorFloor",
            "ExposedFloor",
            "Shade",
            "UndergroundWall",
            "UndergroundSlab",
            "Ceiling",
            "Air",
            "UndergroundCeiling",
            "RaisedFloor",
            "SlabOnGrade",
            "FreestandingColumn",
            "EmbeddedColumn"
          ]
        },
        "exposedToSun": {
          "type": "boolean"
        },
        "adjacentSpaceIds": {
          "type": "array",
          "items": {
            "type": "string"
          }
        },
        "name": {
          "type": "string"
        },
        "planarGeometry": {
          "$ref": "planarGeometry"
        },
        "glazing": {
          "type": "integer"
        },
        "openings": {
          "type": "array",
          "items": {
            "$ref": "opening"
          },
          "default": []
        }
      }
    },
    "opening": {
      "$id": "opening",
      "title": "Opening",
      "type": "object",
      "properties": {
        "id": {
          "type": "string"
        },
        "coordinatesAbsolute": {
          "type": "boolean"
        },
        "openingType": {
          "type": "string",
          "enum": [
            "FixedWindow",
            "NonSlidingDoor",
            "OperableWindow",
            "FixedSkylight",
            "OperableSkylight",
            "SlidingDoor",
            "Air"
          ]
        },
        "constructionIdRef": {
          "type": "string"
        },
        "ifcGUID": {
          "type": "string"
        },
        "planarGeometry": {
          "$ref": "planarGeometry"
        }
      }
    },
    "planarGeometry": {
      "$id": "planarGeometry",
      "title": "Planar Geometry",
      "description": "Multi-polygon geometry described in gbXML, except very much simplifed here",
      "type":"array",
      "items": {
        "type": "array",
        "items": {
          "minItems": 3,
          "maxItems": 3,
          "type": "array",
          "items": {
            "type": "number"
          }
        }
      }
    },
    "space": {
      "type": "object",
      "title": "Space",
      "$id": "space",
      "description": "A space represents a volume enclosed by surfaces.",
      "properties": {
        "id": {
          "type": "string"
        },
        "name": {
          "type": "string"
        },
        "buildingStoryIdRef": {
          "type": "string",
          "pattern": "^[0-9a-fA-F]{24}$"
        },
        "zoneIdRef": {
          "type": "string"
        },
        "spaceBoundaries": {
          "type": "array",
          "items": {
            "$ref": "spaceBoundary"
          }
        },
        "planarGeometry": {
          "$ref": "planarGeometry"
        },
        "area": {
          "type": "number"
        },
        "level": {
          "type": "integer"
        },
        "volume": {
          "type": "number"
        }
      }
    },
    "spaceBoundary": {
      "$id": "spaceBoundary",
      "type": "object",
      "description": "Space boundary is information on what is connected to a space.",
      "properties": {
        "surfaceIdRef": {
          "type": "string",
          "description": "Any format/pattern as long as string"
        },
        "area": {
          "type": "number"
        },
        "width": {
          "type": "number"
        },
        "height": {
          "type": "number"
        },
        "planarGeometry": {
          "$ref": "planarGeometry"
        }
      }
    },
    "thermalZone": {
      "$id": "thermalZone",
      "title": "Thermal Zone",
      "type": "object",
      "description": "Primarily used for heating and cooling settings"
    },
    "usageZone": {
      "$id": "usageZone",
      "title": "Usage Zone",
      "type": "object",
      "description": "A usage zone is a zone of a building with homogeneous usage type"
    },
    "refurbishmentMeasure": {
      "$id": "refurbishmentMeasure",
      "title": "Refurbishment Measure",
      "description": "Reference designation of the degree of refurbishment",
      "type": "string"
    }
  }
}